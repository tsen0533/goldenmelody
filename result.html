<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ä½ çš„çµæœ</title>
  <style>
    body {
      font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
      text-align: center;
      padding: 50px;
      background-color: #f5f5f5;
    }
    .result {
      font-size: 24px;
      margin-top: 30px;
      margin-bottom: 30px;
    }
    img {
      max-width:600px;
      border-radius: 0px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
<!-- æ”¾åœ¨ <body> è£¡æœ€ä¸Šé¢ -->
  <div class="result" id="resultText"></div>
  <img id="resultImage" src="" alt="çµæœåœ–ç‰‡">

  <script>
  const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxK7iWtoFUPUvCgNdZ5XCDjh4dbEWRTNg3G9iX0RciqIenKfOrnENeEi35ooTIurrKF/exec";

function getScoreFromUrl() {
  const params = new URLSearchParams(window.location.search);
  return parseInt(params.get('score'), 10) || 0;
}
const score = getScoreFromUrl();

function submitResultToSheet(name, score, answers) {
  fetch(GOOGLE_SCRIPT_URL, {
    method: "POST",
    body: JSON.stringify({
      name: name,
      score: score,
      answers: answers
    }),
    headers: {
      "Content-Type": "application/json"
    }
  }).then(r => r.json())
    .then(res => {
      // å¯ä»¥é¡¯ç¤ºæ„Ÿè¬ã€æˆ–ä¸ç”¨ç†æœƒ
      console.log("å·²é€å‡º", res);
    });
}

// é€™è£¡å¯ä»¥å•ä½¿ç”¨è€…åç¨±ï¼ˆå¯é¸ï¼Œæˆ–åŒ¿åï¼‰
const userName = ""; // ä½ å¯æ”¹æˆ prompt("è«‹è¼¸å…¥ä½ çš„æš±ç¨±") æˆ–ç©ºå­—ä¸²

// å–å¾—ç­”æ¡ˆå…§å®¹ï¼ˆå¦‚æœä½ è¦è¨˜éŒ„ç­”æ¡ˆï¼Œè¦æŠŠç­”æ¡ˆå¾ quizForm å­˜é€² localStorage æˆ– query stringï¼‰
const userAnswers = []; // ä½ å¦‚æœæƒ³é€ç­”æ¡ˆï¼Œéœ€è¦å¾ quizForm å­˜èµ·ä¾†

// é€å‡ºè³‡æ–™
submitResultToSheet(userName, score, userAnswers);

// ä¸‹é¢æ˜¯é¡¯ç¤ºåœ–ç‰‡çš„éƒ¨åˆ†
const resultText = document.getElementById("resultText");
const resultImage = document.getElementById("resultImage");

if (score <= 2) {
  resultText.innerText = `ğŸ¥² çŒœä¸é€çš„ä¸åªæ˜¯ä»–çš„å¿ƒï¼Œé‚„æœ‰é¡Œç›®ï¼ˆå¾—åˆ†ï¼š${score}/9ï¼‰`;
  resultImage.src = "IMG_1797.JPG"; // ä½ å¯ä»¥ç”¨ä½ è‡ªå·±çš„åœ–
} else if (score <= 6) {
  resultText.innerText = `ğŸ¤” ççŒœå¾®æ‡‚ï¼Œå¤šå¤šåŠ æ²¹ï¼ï¼ˆå¾—åˆ†ï¼š${score}/9ï¼‰`;
  resultImage.src = "IMG_1795.JPG";
} else {
  resultText.innerText = `ğŸ‰ æ‡‚å“¥å‡ºæ‰‹äº†ï¼ï¼ï¼ˆå¾—åˆ†ï¼š${score}/9ï¼‰`;
  resultImage.src = "IMG_1796.JPG";
}
  </script>
</body>
</html>
